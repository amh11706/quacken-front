<mat-form-field class="setting">
  <mat-label>{{BotSetting.label}}</mat-label>
  <mat-select [disabled]="BotSetting.admin && (ss.admin$ | async) === false"
    [(value)]="setting.value">
    @for (option of BotSetting.options; track option; let i = $index) {
      <mat-option
      [value]="i">{{option}}</mat-option>
    }
  </mat-select>
</mat-form-field>

@if (setting.value === 1) {
  <p>Add the minimum bots required for all teams to have equal ships.</p>
}

@if (setting.value === 2) {
  <p>Pad teams the same as auto, then add the following additional ships to each team:</p>
  <div class="boatList">
    @for (boatType of setting.data.padExtra; track boatType; let i = $index) {
      <div
        class="boat">
        <mat-select [(ngModel)]="setting.data.padExtra[i]">
          <mat-select-trigger>
            <img [src]="getShipLink(boatType)"
              [matTooltip]="Ships.titles[boatType] || ''">
          </mat-select-trigger>
          @for (o of Ships.groups[0]?.options; track o) {
            <mat-option
              [value]="o">
              <img class="boatoption"
                height="25px"
                width="25px"
                [src]="getShipLink(o)">{{Ships.titles[o]}}
              </mat-option>
            }
          </mat-select>
          <mat-icon (click)="removePadExtra(i)">cancel</mat-icon>
        </div>
      }
      <div class="boat"
        (click)="addPadExtra()">
      <mat-icon>add</mat-icon>
    </div>
  </div>
}

@if (setting.value === 3) {
  <p>Add exactly these bots to each team:</p>
  @for (team of setting.data.custom; track team; let teamId = $index) {
    <div
      class="boatList"
      [style.borderColor]="TeamColors[teamId]">
      @for (boatType of team; track boatType; let i = $index) {
        <div
          class="boat">
          <mat-select [(ngModel)]="team[i]">
            <mat-select-trigger>
              <img [src]="getShipLink(boatType)"
                [matTooltip]="Ships.titles[boatType] || ''">
            </mat-select-trigger>
            @for (o of Ships.groups[0]?.options; track o) {
              <mat-option
                [value]="o">
                <img class="boatoption"
                  height="25px"
                  width="25px"
                  [src]="getShipLink(o)">{{Ships.titles[o]}}
                </mat-option>
              }
            </mat-select>
            <mat-icon (click)="removeCustom(team, i)">cancel</mat-icon>
          </div>
        }
        <div class="boat"
          (click)="addCustom(team)">
        <mat-icon>add</mat-icon>
      </div>
    </div>
  }
}
